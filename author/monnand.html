<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Uniqush Blog - Monnand</title>
    <meta name="description" content="">
    <meta name="author" content="Monnand">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
    <script src="/uniqush-blog/theme/html5.js"></script>
    <![endif]-->

    <!-- Le styles -->
    <link href="/uniqush-blog/theme/bootstrap.min.css" rel="stylesheet">
    <link href="/uniqush-blog/theme/bootstrap.min.responsive.css" rel="stylesheet">
    <link href="/uniqush-blog/theme/local.css" rel="stylesheet">
    <link href="/uniqush-blog/theme/pygments.css" rel="stylesheet">

    <!-- So Firefox can bookmark->"abo this site" -->
        <link href="/uniqush-blog/feeds/all.atom.xml" rel="alternate" title="Uniqush Blog" type="application/atom+xml">

</head>

<body>

<div class="navbar">
    <div class="navbar-inner">
    <div class="container">

         <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
             <span class="icon-bar"></span>
             <span class="icon-bar"></span>
             <span class="icon-bar"></span>
         </a>

        <a class="brand" href="http://blog.uniqush.org">Uniqush Blog</a>

        <div class="nav-collapse">
        <ul class="nav">
            
        </ul>
        </div>
        
    </div>
    </div>
</div>

<div class="container">
    <div class="content">
    <div class="row">

        <div class="span9">
        

        


    <div class='article'>
        <div class="content-title">
            <a href="/uniqush-blog/uniqush-push-1-5-2.html"><h1>Release 1.5.2</h1></a>
Sun 29 June 2014

by <a class="url fn" href="/uniqush-blog/author/monnand.html">Monnand</a>
 


 
        </div>
        
        <div><p><em>TL;DR</em>: Please checkout our <a href="http://uniqush.org/release-notes/rn-uniqush-push-1-5-2.html">release note</a> for version 1.5.2.</p>
<p>Sorry for my absence since November 2013. I was preparing other things and
working on other projects. During this period, I received several bug reports
related to <a href="http://github.com/uniqush/uniqush-push">uniqush-push</a>. Some of them indicating some large service is
currently using uniqush-push as their backend push service, while some of them
contains very weird log messages which I did not expect. It is really exciting
for me to see <a href="http://github.com/uniqush/uniqush-push">uniqush-push</a> working on top of user base with millions of
users. But it is so disappointed that I was not able to quickly found the root
cause of all bugs.</p>
<p>Fortunately, it seems that most bugs are related to the APNS' waiting time
calculation. When a push operation failed, <a href="http://github.com/uniqush/uniqush-push">uniqush-push</a> will wait for some
time before retry. It will announce a failure after 3 attempts. The waiting
time is increased for each attempt. The way we used to calculate the waiting
time was to square the previous waiting time. The problem is that we represent
time period in terms of nanoseconds. Squaring it quickly leads to an integer
overflow. This is why lots of logs in bug reports contains some negative
waiting times.</p>
<p>There's also a potential problem with deterministic waiting times: It may leads
to message storm. Imagine you want to send one million message at same time and
some of them will fail. Because all of the failed messages will be resent after
the same period, it leads to another spike of network usage, which may lead to
failure as well. An easy fix is to wait for a random amount of time.</p>
<p>In 1.5.2, <a href="http://github.com/uniqush/uniqush-push">uniqush-push</a> will randomly increase the waiting time before every
resend of a message. This should fix most bug report I received. But I did not
confirmed this with every reporter yet. If you have any other issues with the
most recent version, please <a href="https://github.com/uniqush/uniqush-push/issues/new">report a
bug</a>.</p></div>
        <hr />
    </div>
		

 
        

 

    <div class='article'>
        <a href="/uniqush-blog/uniqush-push-1-5-1.html"><h2>Release 1.5.1</h2></a>
        <div class= "well small"> Sat 09 November 2013

by <a class="url fn" href="/uniqush-blog/author/monnand.html">Monnand</a>
 


 </div>
        <div class="summary"><p>This version contains several minor bug fixes and improvements. Details can be
found in the <a href="http://uniqush.org/release-notes/rn-uniqush-push-1-5-1.html">release note</a>. Two noticeable changes are:</p>
<ul>
<li>Subscriber and service names can contain <code>@</code> now.</li>
<li><code>content-available</code> parameter is supported in APNS.</li>
</ul> <a class="btn btn-info xsmall" href="/uniqush-blog/uniqush-push-1-5-1.html">read more</a></div>
    </div>	
				

 
        

 

    <div class='article'>
        <a href="/uniqush-blog/uniqush-push-1-5-0.html"><h2>Release 1.5.0: Kindle Support</h2></a>
        <div class= "well small"> Sun 01 September 2013

by <a class="url fn" href="/uniqush-blog/author/monnand.html">Monnand</a>
 


 </div>
        <div class="summary"><p>I'm very glad to announce that <a href="http://uniqush.org">uniqush</a> supports <a href="https://developer.amazon.com/sdk/adm.html">ADM</a> since version 1.5.0,
which means users can use it to push notifications to Amazon Kindle Tablets.</p>
<p>This is the only change in this version and since it changed the user
interface, it is considered as a big change. (That's …</p> <a class="btn btn-info xsmall" href="/uniqush-blog/uniqush-push-1-5-0.html">read more</a></div>
    </div>	
				

 
        

 

    <div class='article'>
        <a href="/uniqush-blog/uniqush-push-1-4-5.html"><h2>Release 1.4.5</h2></a>
        <div class= "well small"> Thu 01 August 2013

by <a class="url fn" href="/uniqush-blog/author/monnand.html">Monnand</a>
 


 </div>
        <div class="summary"><p>This version contains only one bug fix. Since this bug is critical, it is
highly recommended to upgrade to this version.</p>
<p>Thanks for <a href="https://github.com/cmabastar-gumi">cmabastar-gumi</a>'s bug report again. For more details, please check
out our <a href="http://uniqush.org/release-notes/rn-uniqush-push-1-4-5.html">release note</a>.</p> <a class="btn btn-info xsmall" href="/uniqush-blog/uniqush-push-1-4-5.html">read more</a></div>
    </div>	
				

 
        

 

    <div class='article'>
        <a href="/uniqush-blog/uniqush-push-1-4-4.html"><h2>Release 1.4.4</h2></a>
        <div class= "well small"> Sat 20 July 2013

by <a class="url fn" href="/uniqush-blog/author/monnand.html">Monnand</a>
 


 </div>
        <div class="summary"><p>This version contains some minor bug fixes and a <em>huge</em> improvement for APNS. I
would like to give special thanks to <a href="https://github.com/cmabastar-gumi">cmabastar-gumi</a> for his detailed bug
reports. Please check the <a href="http://uniqush.org/release-notes/rn-uniqush-push-1-4-4.html">release note</a> for detailed ChangeLog.</p>
<p>In this post, I will explain more about how I improved the performance for
APNS …</p> <a class="btn btn-info xsmall" href="/uniqush-blog/uniqush-push-1-4-4.html">read more</a></div>
    </div>	
				

 
        

 

    <div class='article'>
        <a href="/uniqush-blog/uniqush-push-1-4-3.html"><h2>Release 1.4.3 and uniqush-conn</h2></a>
        <div class= "well small"> Tue 14 May 2013

by <a class="url fn" href="/uniqush-blog/author/monnand.html">Monnand</a>
 


 </div>
        <div class="summary"><p>This version contains some minor bug fixes and includes some hidden features
which will be used by <a href="http://github.com/uniqush/uniqush-conn">uniqush-conn</a>. The <a href="http://uniqush.org/release-notes/rn-uniqush-push-1-4-3.html">release note</a> explains all the
changes.</p>
<p>Instead of the changes themselves, in this post, I would like to talk about how
they related to the <a href="http://github.com/uniqush/uniqush-conn">uniqush-conn</a> and what's the next step …</p> <a class="btn btn-info xsmall" href="/uniqush-blog/uniqush-push-1-4-3.html">read more</a></div>
    </div>	
				

 
        

 

    <div class='article'>
        <a href="/uniqush-blog/uniqush-push-1-4-2.html"><h2>Release 1.4.2</h2></a>
        <div class= "well small"> Mon 01 April 2013

by <a class="url fn" href="/uniqush-blog/author/monnand.html">Monnand</a>
 


 </div>
        <div class="summary"><p>This version is mainly a bug-fix version. See the <a href="http://uniqush.org/release-notes/rn-uniqush-push-1-4-2.html">release note</a> for more
details. I will briefly explain each point below. (This version is released on
April 1st. But it is <strong>really not</strong> a joke, I promise.)</p>
<h3>Proper stop</h3>
<ul>
<li><em>bugfix</em> Stop on <em>/stop</em>. Sorry, I forgot to implement the feature …</li></ul> <a class="btn btn-info xsmall" href="/uniqush-blog/uniqush-push-1-4-2.html">read more</a></div>
    </div>	
				
<div class="pagination">
<ul>
    <li class="prev disabled"><a href="#">&larr; Previous</a></li>

    <li class="active"><a href="/uniqush-blog/author/monnand.html">1</a></li>
    <li class=""><a href="/uniqush-blog/author/monnand2.html">2</a></li>
    <li class=""><a href="/uniqush-blog/author/monnand3.html">3</a></li>

    <li class="next"><a href="/uniqush-blog/author/monnand2.html">Next &rarr;</a></li>

</ul>
</div>
 
  
        </div>
        
        <div class="span3">

            <div class="well" style="padding: 8px 0; background-color: #FBFBFB;">
            <ul class="nav nav-list">
                <li class="nav-header"> 
                Site
                </li>
            
                <li><a href="/uniqush-blog/archives.html">Archives</a>
                <li><a href="/uniqush-blog/tags.html">Tags</a>



                <li><a href="/uniqush-blog/feeds/all.atom.xml" rel="alternate">Atom feed</a></li>

            </ul>
            </div>


            <div class="well" style="padding: 8px 0; background-color: #FBFBFB;">
            <ul class="nav nav-list">
                <li class="nav-header"> 
                Categories
                </li>
                
                <li><a href="/uniqush-blog/category/dev.html">dev</a></li>
                <li><a href="/uniqush-blog/category/misc.html">misc</a></li>
                <li><a href="/uniqush-blog/category/news.html">news</a></li>
                <li><a href="/uniqush-blog/category/plan.html">plan</a></li>
                   
            </ul>
            </div>


            <div class="well" style="padding: 8px 0; background-color: #FBFBFB;">
            <ul class="nav nav-list">
                <li class="nav-header"> 
                Links
                </li>
            
                <li><a href="http://uniqush.org">uniqush.org</a></li>
                <li><a href="https://github.com/uniqush">uniqush on github</a></li>
            </ul>
            </div>


            <div class="social">
            <div class="well" style="padding: 8px 0; background-color: #FBFBFB;">
            <ul class="nav nav-list">
                <li class="nav-header"> 
                Social
                </li>
           
                <li><a href="https://twitter.com/uniqush">twitter</a></li>
            </ul>
            </div>
            </div>

        </div>  
    </div>     </div> 
<footer>
<br />
<p><a href="http://blog.uniqush.org">Uniqush Blog</a> &copy; Monnand 2014</p>
</footer>

</div> <!-- /container -->
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
<script src="/uniqush-blog/theme/bootstrap-collapse.js"></script>
 
</body>
</html>